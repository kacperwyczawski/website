---
import LinkSocial from "@components/LinkSocial.astro";
import LinkArrow from "@components/LinkArrow.astro";
import Section from "@components/Section.astro";
import SkillCard from "@components/SkillCard.astro";
import Layout from "@layouts/Layout.astro";
import Timestamp from "@components/Timestamp.astro";
import { getEntry } from "astro:content";

const resume = await getEntry("definitions", "resume");
---

<Layout>
  <main class="grid place-items-center p-2 md:p-4">
    <div class="max-w-6xl">
      <div class="flex justify-center gap-2">
        {
          resume.data.socialLinks.web.map((link: any) => (
            <LinkSocial icon={link.icon} text={link.text} link={link.url} />
          ))
        }
      </div>

      <Section heading="About Me">
        <main
          class="border rounded-lg p-4 bg-neutral-100 dark:bg-slate-850 dark:border-slate-800 text-justify md:text-lg mx-auto"
        >
          {resume.data.aboutMe}
        </main>
      </Section>
      <Section heading="My Skills">
        <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
          {
            resume.data.skills.map((skill: any) => (
              <SkillCard content={skill} />
            ))
          }
        </div>
      </Section>
      <div class="md:grid md:grid-cols-2 gap-4">
        <Section heading="Work Experience">
          <div
            class="bg-neutral-100 dark:bg-slate-850 dark:border-slate-800 border rounded-lg p-4"
          >
            <ul class="relative pl-4">
              {
                resume.data.workExperience.map((experience: any) => (
                  <Timestamp
                    date={experience.date}
                    location={experience.location}
                    title={experience.title}
                    company={experience.company}
                    companyUrl={experience.companyUrl}
                    type={experience.type}
                  />
                ))
              }
            </ul>
          </div>
        </Section>
        <Section heading="Education">
          <div
            class="bg-neutral-100 dark:bg-slate-850 dark:border-slate-800 border rounded-lg p-4"
          >
            {
              resume.data.education.map((education: any) => (
                <>
                  <div class="text-neutral-400 dark:text-slate-600 text-lg text-center md:text-left">
                    {education.date + " / " + education.location}
                  </div>
                  <div class="text-xl font-semibold text-center md:text-left">
                    {education.title + " at"}
                    <a
                      href={education.schoolUrl}
                      class="underline decoration-fuchsia-700 dark:decoration-fuchsia-400 hover:decoration-2"
                    >
                      {education.school}
                    </a>
                  </div>
                </>
              ))
            }
          </div>
        </Section>
      </div>
      <footer class="flex justify-center">
        <LinkArrow link="/projects" text="Check out my projects" />
      </footer>
    </div>
  </main>
</Layout>
